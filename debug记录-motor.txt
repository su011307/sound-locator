【现象描述】
在断点测试中，发现g_motor->poll()时电机可以转动，但是连续运行则持续振动，不能转动

【Debug经历】
单独对一个引脚set_high，发现向与转动方向相同的方向轻轻拨动指针，可以拨动，但是反方向则不行。决定利用这一特性寻找更多信息

在电机振动的时候，发现正反两个方向都拨不动。应该是两个引脚被同时set_high，检查代码错误

确认没有同时set_high，可能是在ain1_和ain2_两个引脚快速交替set_high？

提出假设，atan2输出角度为[-180, +180]，但是poll接受[0, 360)，可能是因为微扰在±360快速来回震荡。修改程序逻辑

现象依旧，怀疑是编码器噪声。检查tim.cpp，发现IC1Filter和IC2Filter值不同。统一改为较大的4。应用修改

没有缓解。可能是因为235us的更新间隔太短了？调整为100ms

发现在0°附近反复震荡。很有可能是因为ain1_和ain2_设反了。调整更新逻辑

可以正常向单个方向转动。确认问题来源为ain1_和ain2_方向相反。但是预期转动180度，实际只有35度左右。

怀疑可能是TIM3的编码模式问题。因为我选择了同时计量上下沿，导致脉冲信号是正常的4倍。将PULSE_PER_ROUND值修改为4倍。预期转动接近180度。

转动约165度，应该是PID中的积分项太小。基本解决了电机驱动问题。issue solved